# BWP (Beast Within Productions)

A Spring Boot web application for managing and displaying talent/actor data, packaged as a deployable WAR for Tomcat. The project leverages Thymeleaf for templating, supports scheduled tasks, and integrates with the QuiptMC core library.

## Features
- Home and talent web pages (Thymeleaf-based)
- Loads and displays talent/actor data from configuration files
- Queue management and scheduled background tasks
- Logging to both console and rolling file (Tomcat-compatible)
- WAR packaging for easy deployment to Tomcat

## Directory Structure
```
├── build.gradle           # Gradle build file
├── data/                  # Application data and configuration
│   ├── config.json
│   ├── talents.json
│   └── actors/            # Per-actor data folders
├── src/
│   ├── main/
│   │   ├── java/com/bwp/  # Main Java source code
│   │   │   ├── Main.java
│   │   │   ├── server/PageController.java
│   │   │   ├── data/      # Data models and config
│   │   │   ├── components/
│   │   │   ├── utils/
│   │   │   └── ...
│   │   └── resources/
│   │       ├── logback.xml
│   │       └── templates/ # Thymeleaf templates
│   └── test/              # Unit tests
├── logs/                  # Application logs
└── ...
```

## Build & Run

### Prerequisites
- Java 17+
- Gradle (or use the provided `gradlew` wrapper)
- MySQL (if using database features)

### Build WAR
```
./gradlew clean bootWar
```
The WAR will be output to `build/libs/ROOT.war` (for ROOT context deployment).

### Deploy to Tomcat
1. Copy `ROOT.war` to your Tomcat `webapps/` directory (deploys at `/`), or use the provided GitHub Actions workflow.
2. Ensure your Tomcat user has the `manager-script` role if using the Manager API.

### Configuration
- Application data directory (where `config.json`, `talents.json`, and `actors/` live) is configurable via:
  - System property: `-Dbwp.dataDir=/absolute/path/to/bwp-data`
  - Environment variable: `BWP_DATA_DIR=/absolute/path/to/bwp-data`
  - Defaults to `${catalina.base}/bwp-data` on Tomcat, then `${user.home}/.bwp/data`, then `./data`.
- Logging is configured via `src/main/resources/logback.xml`.

## Endpoints
- `/` — Home page
- `/talent` — Talent listing page (shows all actors from configuration)

## Development
- Main entry point: `com.bwp.Main`
- Main controller: `com.bwp.server.PageController`
- Queue management: `com.bwp.utils.queue.QueueManager`

## Testing
Run unit tests with:
```
./gradlew test
```

## Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

## License
Specify your license here (e.g., MIT, Apache 2.0, etc.)

---
*Generated by GitHub Copilot based on project structure and source code.*

